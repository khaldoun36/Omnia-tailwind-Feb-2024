---
import ButtonLink from "../../components/ButtonLink.astro";
import Marquee from "../Marquee.astro";
import { Image } from "astro:assets";

// images import start
import clientImage1 from "../../assets/images/client-images/client-photo-1.jpeg";
import clientImage2 from "../../assets/images/client-images/client-photo-2.jpeg";
import clientImage3 from "../../assets/images/client-images/client-photo-3.jpeg";
import clientImage4 from "../../assets/images/client-images/client-photo-4.jpeg";
import clientImage5 from "../../assets/images/client-images/client-photo-5.jpeg";
import clientImage6 from "../../assets/images/client-images/client-photo-6.jpeg";
import clientImage7 from "../../assets/images/client-images/client-photo-7.jpeg";
import clientImage8 from "../../assets/images/client-images/client-photo-8.jpeg";
// images import end
const images = [
    clientImage1,
    clientImage2,
    clientImage3,
    clientImage4,
    clientImage5,
    clientImage6,
    clientImage7,
    clientImage8,
];
---

<main class="max-w-[65ch] space-y-6">
    <h1
        class="min-h-20 text-4xl font-bold text-neutral-800 md:min-h-28 md:text-5xl"
    >
        I helped
        <span class="typed-text text-primary-500"></span>
        <span class="cursor blink bg-primary-500">&nbsp;</span>
    </h1>
    <p class="text-base text-neutral-600">
        Transform into the best version of yourself with my personalized fitness
        guidance and unwavering support. Together, we'll achieve the results you
        desire.
    </p>
    <ButtonLink intent="primary" href="www.theverge.come"
        >schedule a call</ButtonLink
    >
</main>
<section class="full-width mt-12">
    <Marquee isFullWidth={true} speed="slow">
        {
            images.map((image) => (
                <Image
                    src={image}
                    alt="A bird sitting on a nest of eggs."
                    class="aspect-square h-auto max-w-72 rounded-xl odd:-rotate-2 even:rotate-2"
                />
            ))
        }
    </Marquee>
</section>

<!-- ********** -->
<!-- Javascript -->
<!-- ********** -->
<script>
    const typedText = document.querySelector(".typed-text");
    const cursor = document.querySelector(".cursor");

    const textArray = [
        "Ben lose 12.2kg in 12 weeks.",
        "Ryan lose 14.7kg in 16 weeks.",
        "Alex lose 10.1kg in 12 weeks.",
        "James lose 20.4kg in 28 weeks.",
        "Jordan lose 10.1kg in 12 weeks.",
        "Ben lose 15.7kg in 12 weeks.",
        "Ashraf lose 12.2kg in 12 weeks.",
        "Prasad lose 15kg in 12 weeks.",
        "Alberto lose 9kg in 10 weeks.",
    ];

    let textArrayIndex = 0;
    let charIndex = 0;

    const erase = () => {
        if (charIndex > 0) {
            cursor.classList.remove("blink");
            typedText.textContent = textArray[textArrayIndex].slice(
                0,
                charIndex - 1
            );
            charIndex--;
            setTimeout(erase, 80);
        } else {
            cursor.classList.add("blink");
            textArrayIndex++;
            if (textArrayIndex > textArray.length - 1) {
                textArrayIndex = 0;
            }
            setTimeout(type, 1000);
        }
    };

    const type = () => {
        if (charIndex <= textArray[textArrayIndex].length - 1) {
            cursor.classList.remove("blink");
            typedText.textContent +=
                textArray[textArrayIndex].charAt(charIndex);
            charIndex++;
            setTimeout(type, 120);
        } else {
            cursor.classList.add("blink");
            setTimeout(erase, 1000);
        }
    };

    document.addEventListener("DOMContentLoaded", () => {
        type();
    });
</script>

<!-- ********** -->
<!-- ***Style*** -->
<!-- ********** -->
<style>
    .cursor {
        --cursor-clr: #f97316;
        display: inline-block;
        width: 3px;
        margin-left: 4px;
        background: var(--cursor-clr);
    }

    .cursor.blink {
        animation: blink 0.8s ease-in-out infinite;
    }

    @keyframes blink {
        0%,
        100% {
            background: var(--cursor-clr);
        }
        40%,
        50% {
            background: transparent;
        }
    }
</style>
